/**
 * jQuery WebVTT Plugin 0.0.1
 * http://github.com/brainbits/jquery-webvtt
 * Requires jQuery 1.4.2
 *
 * Copyright 2011 Brainbits GmbH.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(e){function f(a){if(!g.test(a))throw"'"+a+"' doesn't match to the WebVTT timestamp pattern.";var a=g.exec(a),c=a[4]/1E3;c+=parseInt(a[3],10);a[2]&&(c+=a[2]*60);a[1]&&(c+=a[1]*3600);return c}function i(a){var a=a.split(/(\n{2,})/),c=[],b=[],d=0;do{d===0&&j.test(a[d])&&(d+=2);if(!h.test(a[d]))throw"An error while parsing a WebVTT cue string.";b=h.exec(a[d]);c.push({marker:b[1],from:f(b[2]),to:f(b[3]),payload:e("<p/>").text(b[4])});d+=2}while(d<a.length);return c}var g=/^(?:(\d{2,}):)?(\d{2}):(\d{2})[,.](\d{3})$/,
h=/^(?:(.*)\n)?([\d:,.]+) --\> ([\d:,.]+)\n(.*)$/,j=/^\uFEFF?WEBVTT(?: .*)/;e.webVtt=function(a,c){var b=e(a),d=e([]);b.data("webvtt")||b.data("webvtt",i(b.text()));e.type(c)!=="number"&&(c=f(c));e.each(b.data("webvtt"),function(a,b){b.from<=c&&b.to>c&&(d=d.add(b.payload))});return d};e.fn.extend({webVtt:function(a){return e.webVtt(this[0],a)}})})(jQuery);