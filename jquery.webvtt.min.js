/**
 * jQuery WebVTT Plugin 0.0.1
 * http://github.com/brainbits/jquery-webvtt
 * Requires jQuery 1.4.2
 *
 * Copyright 2011 Brainbits GmbH.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(c){var b=/^(?:(\d{2,}):)?(\d{2}):(\d{2})[,.](\d{3})$/,d=/^(?:(.*)(?:\r\n|\n))?([\d:,.]+) --> ([\d:,.]+)(?:\r\n|\n)(.*)$/,a=/^\uFEFF?WEBVTT(?: .*)?/;function f(i){if(!b.test(i)){throw"'"+i+"' doesn't match to the WebVTT timestamp pattern."}var h=b.exec(i),g=h[4]/1000;g+=parseInt(h[3],10);if(h[2]){g+=h[2]*60}if(h[1]){g+=h[1]*60*60}return g}function e(l){var g=c.trim(l).split(/(?:(?:\r\n|\n){2,})/),h=[],k=[],j=0;do{if(j===0&&a.test(g[j])){j+=1}if(!d.test(g[j])){throw"An error while parsing a WebVTT cue string on cue "+(j+1)+"."}k=d.exec(g[j]);h.push({marker:k[1],from:f(k[2]),to:f(k[3]),payload:c("<p/>").text(k[4])});j+=1}while(j<g.length);return h}c.webVtt=function(i,j){var g=c(i),h=c([]);if(!g.data("webvtt")){g.data("webvtt",e(g.html()))}if(c.type(j)!=="number"){j=f(j)}c.each(g.data("webvtt"),function(l,k){if(k.from<=j&&k.to>j){h=h.add(k.payload)}});return h};c.fn.extend({webVtt:function(g){return c.webVtt(this[0],g)}})}(jQuery));